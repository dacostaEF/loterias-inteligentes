<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Bol√µes inteligentes para a +Milion√°ria e outras loterias. Aposte com an√°lise estat√≠stica e confian√ßa.">
  
  <!-- Meta tags para colorir a status bar dos dispositivos m√≥veis -->
  <meta name="theme-color" content="#7C3AED">
  <meta name="msapplication-navbutton-color" content="#7C3AED">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-capable" content="yes">
  
  <title>Bol√µes Inteligentes - Loterias Inteligente</title>
  
  <!-- Script para controle de acesso -->
  <script>
    // Verificar se usu√°rio est√° logado
    function verificarAcesso() {
      // Verificar se usu√°rio est√° realmente logado usando a vari√°vel global do Flask
      const usuarioLogado = window.isLoggedIn || false;
      
      if (!usuarioLogado) {
        // Bloquear funcionalidades para usu√°rios n√£o logados
        document.addEventListener('DOMContentLoaded', function() {
          // Desabilitar bot√µes de funcionalidades premium
          const botoesPremium = document.querySelectorAll('button[onclick*="abrirAba"], button[onclick*="abrirSubAba"]');
          botoesPremium.forEach(botao => {
            botao.style.opacity = '0.5';
            botao.style.cursor = 'not-allowed';
            botao.addEventListener('click', function(e) {
              e.preventDefault();
              e.stopPropagation();
              alert('üîí Esta funcionalidade requer login. Fa√ßa login para acessar os bol√µes!');
              // Aqui voc√™ pode abrir o modal de login
              return false;
            });
          });
          
          // Adicionar apenas o bot√£o simples
          const avisoLogin = document.createElement('div');
          avisoLogin.innerHTML = `
            <div style="
              text-align: center; 
              margin: 20px 0; 
              padding: 0 20px;
            ">
              <button onclick="window.location.href='/upgrade_plans'" style="
                background: linear-gradient(135deg, #A855F7, #7C3AED); 
                color: white; 
                border: none; 
                padding: 12px 30px; 
                border-radius: 25px; 
                cursor: pointer; 
                font-weight: 600; 
                font-size: 1rem;
                transition: all 0.3s ease;
                box-shadow: 0 4px 15px rgba(168, 85, 247, 0.3);
              " onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(168, 85, 247, 0.4)'" 
                 onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(168, 85, 247, 0.3)'">
                <i class="fa fa-star" style="margin-right: 8px;"></i>
                Ver Planos Dispon√≠veis
              </button>
            </div>
          `;
          
          // Inserir aviso ap√≥s o breadcrumb (se existir) ou no in√≠cio do conte√∫do
          const breadcrumb = document.querySelector('.breadcrumb') || document.querySelector('.breadcrumbs') || document.querySelector('[class*="breadcrumb"]');
          const conteudo = document.querySelector('.content') || document.querySelector('main') || document.body;
          
          if (breadcrumb) {
            // Inserir ap√≥s o breadcrumb
            breadcrumb.parentNode.insertBefore(avisoLogin, breadcrumb.nextElementSibling);
          } else {
            // Inserir no in√≠cio do conte√∫do
            conteudo.insertBefore(avisoLogin, conteudo.firstChild);
          }
        });
      }
    }
    
    // Definir status de login global baseado no Flask
    window.isLoggedIn = {% if is_logged_in %}true{% else %}false{% endif %};
    
    // Estado dos termos (vindo do Flask ou localStorage)
    window.termosAceitos = {{ 'true' if termos_boloes_aceitos else 'false' }};
    console.log('üîê Login:', window.isLoggedIn, '‚Ä¢ Termos:', window.termosAceitos);
    console.log('üîê Status de login (verifica√ß√£o inicial):', window.isLoggedIn);
    console.log('üîê Flask is_logged_in value:', '{{ is_logged_in }}');
    
    // üîê Controle de Acesso por Plano (ser√° preenchido via API)
    window.planoUsuario = null;
    window.loteriasPermitidas = [];
    window.loteriasBloqueadas = [];
    window.infoPlano = null;
    
    // Executar verifica√ß√£o
    verificarAcesso();
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- Favicons otimizados para todos os dispositivos -->
  <link rel="icon" href="/static/img/Favicon_LI.png" type="image/png" sizes="32x32">
  <link rel="icon" href="/static/img/Favicon_LI.png" type="image/png" sizes="16x16">
  <link rel="icon" href="/static/img/Favicon_LI.png" type="image/png" sizes="48x48">
  <link rel="icon" href="/static/img/Favicon_LI.png" type="image/png" sizes="192x192">
  <link rel="icon" href="/static/img/Favicon_LI.png" type="image/png" sizes="512x512">
  
  <!-- Apple Touch Icons para iOS -->
  <link rel="apple-touch-icon" href="/static/img/Favicon_LI.png" sizes="180x180">
  <link rel="apple-touch-icon" href="/static/img/Favicon_LI.png" sizes="152x152">
  <link rel="apple-touch-icon" href="/static/img/Favicon_LI.png" sizes="144x144">
  <link rel="apple-touch-icon" href="/static/img/Favicon_LI.png" sizes="120x120">
  <link rel="apple-touch-icon" href="/static/img/Favicon_LI.png" sizes="114x114">
  <link rel="apple-touch-icon" href="/static/img/Favicon_LI.png" sizes="76x76">
  <link rel="apple-touch-icon" href="/static/img/Favicon_LI.png" sizes="72x72">
  <link rel="apple-touch-icon" href="/static/img/Favicon_LI.png" sizes="60x60">
  <link rel="apple-touch-icon" href="/static/img/Favicon_LI.png" sizes="57x57">
  
  <!-- Android Chrome Icons -->
  <link rel="icon" type="image/png" sizes="192x192" href="/static/img/Favicon_LI.png">
  <link rel="icon" type="image/png" sizes="512x512" href="/static/img/Favicon_LI.png">
  
  <!-- Windows Tiles -->
  <meta name="msapplication-TileColor" content="#7C3AED">
  <meta name="msapplication-TileImage" content="/static/img/Favicon_LI.png">
  <meta name="msapplication-config" content="none">
  
  <!-- Manifest para PWA -->
  <link rel="manifest" href="/static/manifest.json">
  <link rel="preload" href="{{ url_for('static', filename='css/estilo.css') }}" as="style"
        onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="{{ url_for('static', filename='css/estilo.css') }}"></noscript>
  
  <!-- üîê MODAL LOGIN/CADASTRO CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/modal-login-cadastro.css') }}">
  
  
  <!-- CSS do Rodap√© -->
  <style>
    body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    
    .main-content {
      flex: 1;
    }
    
    .site-footer{
      background: linear-gradient(135deg, rgba(30,27,41,.95), rgba(42,35,64,.95));
      border-top: 1px solid rgba(255,255,255,0.08);
      padding: 10px 16px;
      font-size:.84rem;
      color:#cbd5e1;
      margin-top: auto;
    }
    .site-footer .footer-row{
      max-width:1200px;
      margin:0 auto;
      display:grid;
      grid-template-columns:1fr auto;
      gap:10px;
      align-items:center;
    }
    .site-footer strong{
      color:#A855F7;
      font-weight:700;
    }
    .site-footer a{
      color:#10b981;
      text-decoration:none;
      border-bottom:1px dotted rgba(16,185,129,.35);
    }
    .site-footer a:hover{
      color:#059669;
      border-bottom-color:transparent;
    }
    .footer-meta{
      opacity:.9;
    }
    .footer-toggle{
      background:transparent;
      border:1px solid rgba(168,85,247,.6);
      color:#A855F7;
      font-weight:600;
      padding:6px 10px;
      border-radius:8px;
      cursor:pointer;
      transition:transform .15s ease,background .2s,border-color .2s;
    }
    .footer-toggle:hover{
      transform:translateY(-1px);
      background:rgba(168,85,247,.1);
    }
    .footer-more{
      max-width:1200px;
      margin:8px auto 0;
      padding:10px 12px;
      background:rgba(168,85,247,.06);
      border:1px solid rgba(168,85,247,.25);
      border-radius:10px;
      line-height:1.55;
      font-size:.9rem;
    }
    @media (max-width:768px){
      .site-footer{
        padding:10px 12px;
        font-size:.8rem;
      }
      .site-footer .footer-row{
        grid-template-columns:1fr;
        gap:6px;
      }
      .footer-meta{
        font-size:.78rem;
      }
    }
    
    /* CSS do Modal */
    .footer-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    
    .footer-modal .modal-content {
      background: linear-gradient(135deg, #1e1b29, #2a2340);
      border-radius: 15px;
      max-width: 800px;
      width: 100%;
      max-height: 80vh;
      overflow-y: auto;
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
    }
    
    .footer-modal .modal-header {
      padding: 20px 25px 15px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .footer-modal .modal-header h4 {
      color: #A855F7;
      font-size: 1.2rem;
      margin: 0;
    }
    
    .footer-modal .modal-close {
      background: none;
      border: none;
      color: #cbd5e1;
      font-size: 24px;
      cursor: pointer;
      padding: 0;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: background 0.2s;
    }
    
    .footer-modal .modal-close:hover {
      background: rgba(255, 255, 255, 0.1);
    }
    
    .footer-modal .modal-body {
      padding: 20px 25px 25px;
      color: #cbd5e1;
      line-height: 1.6;
    }
    
    .footer-modal details {
      margin: 15px 0;
      border: 1px solid rgba(168, 85, 247, 0.2);
      border-radius: 8px;
      padding: 10px;
      background: rgba(168, 85, 247, 0.05);
    }
    
    .footer-modal details summary {
      cursor: pointer;
      padding: 8px 0;
      color: #A855F7;
      font-weight: 600;
      list-style: none;
    }
    
    .footer-modal details summary::-webkit-details-marker {
      display: none;
    }
    
    .footer-modal details summary::before {
      content: "‚ñ∂ ";
      margin-right: 8px;
      transition: transform 0.2s;
    }
    
    .footer-modal details[open] summary::before {
      transform: rotate(90deg);
    }
    
    .footer-modal details ul {
      margin: 10px 0 0 20px;
      padding: 0;
    }
    
    .footer-modal details li {
      margin: 8px 0;
      color: #e2e8f0;
    }
    
    .footer-modal a {
      color: #10b981;
      text-decoration: none;
      border-bottom: 1px dotted rgba(16, 185, 129, 0.5);
    }
    
    .footer-modal a:hover {
      color: #059669;
      border-bottom-color: transparent;
    }
    
    @media (max-width: 768px) {
      .footer-modal {
        padding: 10px;
      }
      
      .footer-modal .modal-content {
        max-height: 90vh;
      }
      
      .footer-modal .modal-header,
      .footer-modal .modal-body {
        padding: 15px 20px;
      }
      
      .footer-modal .modal-header h4 {
        font-size: 1.1rem;
      }
    }
  
    /* CSS do Badge LOGGED IN */
    .logged-in-badge {
      position: fixed;
      top: 45px;
      left: 15px;
      background: #10B981;
      color: white;
      padding: 8px 12px;
      z-index: 10001;
      font-size: 14px;
      font-weight: bold;
      border-radius: 4px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
      border: 2px solid white;
      min-width: 120px;
      height: auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
    
    /* Responsividade para mobile */
    @media (max-width: 768px) {
      .logged-in-badge {
        top: 60px; /* Abaixa para alinhar com Tour Guiado */
        left: 10px;
        padding: 4px 8px; /* Reduz padding */
        font-size: 11px; /* Reduz fonte */
        border-radius: 3px;
        border: 1px solid white; /* Reduz borda */
      }
    }
    
    @media (max-width: 480px) {
      .logged-in-badge {
        top: 65px; /* Ajusta ainda mais para telas muito pequenas */
        left: 8px;
        padding: 3px 6px; /* Padding ainda menor */
        font-size: 10px; /* Fonte ainda menor */
      }
    }
  </style><style>
    /* Moldura Neon Lil√°s - Desktop */
    html::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      box-shadow: inset 0 0 0 4px #B96AFF, 0 0 15px #B96AFF, 0 0 30px #B96AFF;
      z-index: 9999;
      pointer-events: none;
    }

    /* Moldura Neon Lil√°s - Mobile (mais fina) */
    @media (max-width: 768px) {
      html::before {
        box-shadow: inset 0 0 0 2px #B96AFF, 0 0 8px #B96AFF, 0 0 15px #B96AFF;
      }
    }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Inter', Arial, sans-serif;
      background-color: #000000; /* Padronizado com Dashboard e Premium */
      color: white;
      min-height: 100vh;
    }

    .main-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      padding: 3rem 1rem !important;
      position: relative;
      z-index: 1;
    }

    .logo-container {
      margin-bottom: 2rem;
      margin-top: 0 !important;
    }

    .logo {
      max-width: 270px;
      margin-bottom: 0.5rem;
    }

    .container {
      padding: 1rem;
      max-width: 900px;
      margin: 0 auto;
      width: 100%;
    }

    h1 {
      text-align: center;
      font-size: 2rem;
      color: #bba5ff;
      margin-bottom: 2rem;
      font-weight: 600;
    }

    .tabs {
      display: flex;
      border-bottom: 2px solid #5e4cb0;
      overflow-x: auto;
      margin-bottom: 2rem;
      background: #2E303A;
      border-radius: 8px 8px 0 0;
    }

    .tab {
      padding: 0.75rem 1.5rem;
      cursor: pointer;
      color: #ccc;
      border: none;
      background: none;
      font-size: 1rem;
      transition: all 0.3s ease;
      font-weight: 500;
      flex: 1;
      text-align: center;
    }

    .tab:hover, .tab.active {
      color: #fff;
      background-color: #5e4cb0;
    }

    .tab-content {
      display: none;
      padding: 2rem 1rem;
      background: #2E303A;
      border-radius: 0 0 8px 8px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-top: none;
    }

    .tab-content.active {
      display: block;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .tab-content h2 {
      color: #bba5ff;
      font-size: 1.5rem;
      margin-bottom: 1rem;
      font-weight: 600;
    }

    .tab-content p {
      color: #ddd;
      line-height: 1.6;
      margin-bottom: 1rem;
    }

    /* Estilos para sub-abas */
    .sub-tabs {
      display: flex;
      border-bottom: 1px solid #5e4cb0;
      overflow-x: auto;
      margin-bottom: 1.5rem;
      background: #2E303A;
      border-radius: 6px 6px 0 0;
    }

    .sub-tab {
      padding: 0.5rem 1rem;
      cursor: pointer;
      color: #ccc;
      border: none;
      background: none;
      font-size: 0.9rem;
      transition: all 0.3s ease;
      font-weight: 500;
      flex: 1;
      text-align: center;
    }

    .sub-tab:hover, .sub-tab.active {
      color: #fff;
      background-color: #5e4cb0;
    }

    .sub-tab-content {
      display: none;
      animation: fadeIn 0.3s ease;
    }

    .sub-tab-content.active {
      display: block;
    }

    .sub-tab-content h3 {
      color: #bba5ff;
      font-size: 1.3rem;
      margin-bottom: 1rem;
      font-weight: 600;
    }

    .bolao-card {
      background-color: #2E303A;
      padding: 1.5rem;
      margin-bottom: 1rem;
      border-radius: 8px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .bolao-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
    }

    .bolao-card h3 {
      margin: 0 0 1rem 0;
      color: #cdbaff;
      font-size: 1.2rem;
      font-weight: 600;
    }

    .bolao-card p {
      margin: 0.5rem 0;
      color: #ddd;
    }

    .bolao-card .status {
      display: inline-block;
      padding: 0.3rem 0.8rem;
      border-radius: 4px;
      font-size: 0.9rem;
      font-weight: 600;
      margin-top: 0.5rem;
    }

    .status.forming {
      background-color: #ffd700;
      color: #333;
    }

    .status.almost {
      background-color: #00E38C;
      color: white;
    }

    .status.closed {
      background-color: #dc2626;
      color: white;
    }

    /* === BARRA DE PROGRESSO === */
    .progress-bar {
      position: relative;
      width: 100%;
      height: 20px;
      background-color: #e5e7eb;
      border-radius: 10px;
      overflow: hidden;
      margin: 10px 0;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #10b981, #059669);
      border-radius: 10px;
      transition: width 0.3s ease;
      position: relative;
    }

    .progress-text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 0.8rem;
      font-weight: 600;
      color: #374151;
      z-index: 1;
    }

    /* === BOT√ïES DE A√á√ÉO === */
    .bolao-actions {
      margin-top: 15px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .btn-participar {
      background: linear-gradient(135deg, #10b981, #059669);
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      flex: 1;
      min-width: 120px;
    }

    .btn-participar:hover {
      background: linear-gradient(135deg, #059669, #047857);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
    }

    .btn-detalhes {
      background: linear-gradient(135deg, #3b82f6, #2563eb);
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      flex: 1;
      min-width: 120px;
    }

    .btn-detalhes:hover {
      background: linear-gradient(135deg, #2563eb, #1d4ed8);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
    }

    .btn-login {
      background: linear-gradient(135deg, #f59e0b, #d97706);
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
    }

    .btn-login:hover {
      background: linear-gradient(135deg, #d97706, #b45309);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
    }

    .btn-disabled {
      background: #9ca3af;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 8px;
      font-weight: 600;
      cursor: not-allowed;
      opacity: 0.6;
      width: 100%;
    }

    /* === ESTADO SEM BOL√ïES === */
    .no-boloes {
      text-align: center;
      padding: 40px 20px;
      background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
      border-radius: 12px;
      margin: 20px 0;
    }

    .no-boloes p {
      margin: 10px 0;
      color: #6b7280;
      font-size: 1.1rem;
    }

    /* === HOVER EFFECTS === */
    .bolao-card.hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    }

    /* === RESPONSIVIDADE === */
    @media (max-width: 768px) {
      .bolao-actions {
        flex-direction: column;
      }

      .btn-participar,
      .btn-detalhes {
        width: 100%;
      }

      .progress-bar {
        height: 16px;
      }

      .progress-text {
        font-size: 0.7rem;
      }
    }

    /* Estilos para o menu hamb√∫rguer */
    .hamburger-menu {
      position: fixed;
      top: 1.5rem;
      left: 1.5rem;
      z-index: 1000;
      display: none;
      background: #2E303A;
      border-radius: 8px;
      padding: 8px;
    }

         .hamburger-icon {
       width: 30px;
       height: 25px;
       display: flex;
       flex-direction: column;
       justify-content: space-between;
       cursor: pointer;
       /* ‚ö° NOVO: Borda/contorno no √≠cone hamb√∫rguer */
       border: 2px solid rgba(168, 85, 247, 0.6);
       border-radius: 6px;
       padding: 4px;
       background: rgba(0, 0, 0, 0.3);
       backdrop-filter: blur(5px);
     }

    .hamburger-icon span {
      display: block;
      width: 100%;
      height: 3px;
      background-color: #bba5ff;
      border-radius: 3px;
      transition: all 0.3s ease;
    }

    .hamburger-icon.open span:nth-child(1) {
      transform: rotate(45deg) translate(5px, 5px);
    }

    .hamburger-icon.open span:nth-child(2) {
      opacity: 0;
    }

    .hamburger-icon.open span:nth-child(3) {
      transform: rotate(-45deg) translate(5px, -5px);
    }

    /* Sidebar deslizante */
    .nav-panel {
      position: fixed;
      top: 0;
      left: -280px;
      width: 280px;
      height: 100%;
      background: #2E303A;
      display: flex;
      flex-direction: column;
      transition: left 0.3s ease-in-out;
      z-index: 999;
      box-shadow: 2px 0 10px rgba(0, 0, 0, 0.3);
      border-right: 1px solid rgba(255, 255, 255, 0.1);
    }

    .nav-panel.open {
      left: 0;
    }

    /* Header do sidebar */
    .nav-header {
      padding: 20px 25px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      text-align: center;
      background: #2E303A;
    }

    .nav-logo {
      width: 120px;
      height: auto;
      margin-bottom: 10px;
    }

    .nav-header h3 {
      color: #bba5ff;
      margin: 0;
      font-size: 1rem; /* ‚ö° PADR√ÉO LANDING: mais compacto e profissional */
      font-weight: 600;
    }

    .nav-panel ul {
      list-style: none;
      padding: 0;
      margin: 0;
      text-align: left;
    }

    .nav-panel li {
      margin: 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .nav-panel a {
      color: #ffffff;
      text-decoration: none;
      font-size: 0.95rem; /* ‚ö° PADR√ÉO LANDING: mais compacto e profissional */
      font-weight: 500;
      transition: all 0.3s ease;
      padding: 20px 25px;
      display: block;
      border-left: 3px solid transparent;
    }

    .nav-panel a:hover {
      color: #bba5ff;
      background: #2E303A;
      border-left-color: #bba5ff;
    }

    /* Estilo para destacar a p√°gina atual no menu mobile */
    .nav-panel a.active {
      color: #00E38C !important;
      background: rgba(0, 227, 140, 0.15) !important;
      border-left-color: #00E38C !important;
      box-shadow: 0 2px 8px rgba(0, 227, 140, 0.2);
    }

    .nav-panel a.active:hover {
      color: #00E38C !important;
      background: rgba(0, 227, 140, 0.2) !important;
    }

    /* Estilos para submenu dropdown */
    .dropdown {
      position: relative;
    }

                    .dropdown-content {
                    display: none;
                    position: absolute;
                    left: 0;
                    top: 100%;
                    margin-top: 8px;
                    background: #2E303A;
                    min-width: 200px;
                    box-shadow: 0 12px 24px rgba(0,0,0,0.5), 0 4px 8px rgba(168, 85, 247, 0.2);
                    border-radius: 8px;
                    z-index: 1000;
                    border: 2px solid rgba(168, 85, 247, 0.6);
                    transition: all 0.2s ease;
                    opacity: 0;
                    visibility: hidden;
                }

    .dropdown-content a {
      color: #e2e8f0;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
      border-left: 3px solid transparent;
      transition: all 0.3s ease;
      font-size: 0.875rem; /* PADR√ÉO: 14px para todos os submenus */
    }

    .dropdown-content a:hover {
      color: #A855F7;
      background: #2E303A;
      border-left-color: #A855F7;
    }

    .dropdown-content a.active {
      color: #00E38C !important;
      background: rgba(0, 227, 140, 0.15) !important;
      border-left-color: #00E38C !important;
    }

    .dropdown:hover .dropdown-content {
      display: block;
      opacity: 1;
      visibility: visible;
    }

    /* Submenu para mobile */
    .mobile-dropdown {
      display: none;
      background: #2E303A;
      border-left: 3px solid rgba(168, 85, 247, 0.3);
      margin-left: 20px;
    }

    .mobile-dropdown.show {
      display: block;
    }

    .mobile-dropdown a {
      padding: 10px 20px 10px 40px;
      font-size: 0.875rem; /* ‚ö° PADR√ÉO LANDING: mais compacto e profissional */
      color: #cbd5e1;
    }

    .mobile-dropdown a:hover {
      color: #A855F7;
      background: #2E303A;
    }

    .mobile-dropdown a.active {
      color: #00E38C !important;
      background: rgba(0, 227, 140, 0.15) !important;
    }

    /* Estilos para Breadcrumbs */
    .breadcrumbs-container {
      background: #2E303A;
      border-bottom: 1px solid rgba(168, 85, 247, 0.2);
      padding: 8px 0;
      margin-bottom: 20px;
      position: relative;
      z-index: 999;
      margin-top: 80px;
    }
    
    .breadcrumbs {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    .breadcrumb-list {
      display: flex;
      align-items: center;
      list-style: none;
      margin: 0;
      padding: 0;
      font-size: 0.9rem;
    }
    
    .breadcrumb-item {
      display: flex;
      align-items: center;
      color: #94a3b8;
    }
    
    .breadcrumb-item:not(:last-child)::after {
      content: "‚Ä∫";
      margin: 0 8px;
      color: #64748b;
      font-weight: bold;
    }
    
    .breadcrumb-link {
      color: #cbd5e1;
      text-decoration: none;
      padding: 4px 8px;
      border-radius: 4px;
      transition: all 0.3s ease;
      font-weight: 500;
    }
    
    .breadcrumb-item:not(.active) .breadcrumb-link:hover {
      color: #A855F7;
      background: #2E303A;
    }
    
    .breadcrumb-item.active .breadcrumb-link {
      color: #00E38C;
      font-weight: 600;
    }
    
    /* Responsividade para breadcrumbs */
    @media (max-width: 768px) {
      .breadcrumbs-container {
        padding: 6px 0;
        margin-bottom: 15px;
        margin-top: 0;
      }
      
      .breadcrumbs {
        padding: 0 15px;
      }
      
      .breadcrumb-list {
        font-size: 0.85rem;
      }
      
      .breadcrumb-item:not(:last-child)::after {
        margin: 0 6px;
      }
    }

    /* Overlay */
    .nav-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #2E303A;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      z-index: 998;
    }

    .nav-overlay.open {
      opacity: 1;
      visibility: visible;
    }

    /* Media queries para responsividade */
    @media (max-width: 768px) {
      .hamburger-menu {
        display: block;
      }
      
      .hamburger-menu {
        position: fixed !important;
        top: 1rem !important;
        left: 1rem !important;
        z-index: 1001 !important;
      }
      
      .container {
        padding: 0.5rem;
      }
      
      h1 {
        font-size: 1.5rem;
      }
      
      .tabs {
        flex-direction: column;
      }
      
      .tab {
         border-radius: 0;
       }
       
       .tab-content {
         padding: 1rem 0.5rem;
       }
       
       /* Responsividade para sub-abas */
       .sub-tabs {
         flex-direction: column;
         border-radius: 6px;
       }
       
       .sub-tab {
         border-radius: 0;
         border-bottom: 1px solid rgba(255, 255, 255, 0.1);
       }
       
       .sub-tab:last-child {
         border-bottom: none;
       }
    }

    /* Estilos para os menus responsivos */
    /* Menu Desktop */
    .desktop-nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: #2E303A;
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      z-index: 1000;
      padding: 1rem 2rem;
      display: flex;
      justify-content: flex-end;
      align-items: center;
    }

    .desktop-nav .logo {
      max-width: 150px;
      height: auto;
    }

    .desktop-nav-links {
      display: flex;
      gap: 2rem;
      align-items: center;
    }

    .desktop-nav-links a {
      color: #ffffff;
      text-decoration: none;
      font-size: 0.875rem; /* PADR√ÉO: 14px para todos os menus */
      font-weight: 500;
      transition: all 0.3s ease;
      padding: 0.5rem 1rem;
      border-radius: 6px;
    }

    .desktop-nav-links a:hover {
      color: #A855F7;
      background: #2E303A;
      transform: translateY(-1px);
    }

    /* Estilo para destacar a p√°gina atual */
    .desktop-nav-links a.active {
      color: #00E38C !important;
      background: rgba(0, 227, 140, 0.15) !important;
      border: 1px solid rgba(0, 227, 140, 0.3) !important;
      transform: translateY(-1px);
      box-shadow: 0 2px 8px rgba(0, 227, 140, 0.2);
    }

    .desktop-nav-links a.active:hover {
      color: #00E38C !important;
      background: rgba(0, 227, 140, 0.2) !important;
    }

    /* Esconder menu desktop em mobile */
    @media (max-width: 768px) {
      .desktop-nav {
        display: none;
      }
    }

    /* Mostrar menu desktop em telas maiores */
    @media (min-width: 769px) {
      .desktop-nav {
        display: flex;
      }
    }

    /* Ajuste de espa√ßamento para telas menores */
    @media (max-width: 1200px) {
      .desktop-nav-links {
        gap: 1.5rem; /* 24px */
      }
    }

    @media (max-width: 1000px) {
      .desktop-nav-links {
        gap: 1.25rem; /* 20px */
      }
    }

    @media (max-width: 900px) {
      .desktop-nav-links {
        gap: 1rem; /* 16px */
      }
    }

    @media (max-width: 800px) {
      .desktop-nav-links {
        gap: 0.75rem; /* 12px - limite m√≠nimo */
      }
    }

    /* Ajuste do padding do body para o menu desktop */
    .main-container {
      padding-top: 80px !important;
    }

    @media (max-width: 768px) {
      .main-container {
        padding-top: 3rem !important;
      }
    }
  
    /* CSS do Badge LOGGED IN */
    .logged-in-badge {
      position: fixed;
      top: 45px;
      left: 15px;
      background: #10B981;
      color: white;
      padding: 8px 12px;
      z-index: 10001;
      font-size: 14px;
      font-weight: bold;
      border-radius: 4px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
      border: 2px solid white;
      min-width: 120px;
      height: auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
    
    /* Responsividade para mobile */
    @media (max-width: 768px) {
      .logged-in-badge {
        top: 60px; /* Abaixa para alinhar com Tour Guiado */
        left: 10px;
        padding: 4px 8px; /* Reduz padding */
        font-size: 11px; /* Reduz fonte */
        border-radius: 3px;
        border: 1px solid white; /* Reduz borda */
      }
    }
    
    @media (max-width: 480px) {
      .logged-in-badge {
        top: 65px; /* Ajusta ainda mais para telas muito pequenas */
        left: 8px;
        padding: 3px 6px; /* Padding ainda menor */
        font-size: 10px; /* Fonte ainda menor */
      }
    }

    /* === MODAL DE TERMOS DE BOL√ïES === */
    .modal-termos-boloes {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      visibility: hidden;
      opacity: 0;
      transition: all 0.3s ease;
    }

    .modal-termos-boloes.show {
      visibility: visible;
      opacity: 1;
    }

    .modal-termos-content {
      background: linear-gradient(135deg, #1e1b29, #2a2340);
      border-radius: 15px;
      max-width: 800px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      border: 1px solid rgba(168, 85, 247, 0.3);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
      position: relative;
    }

    .modal-termos-header {
      padding: 25px 30px 20px;
      border-bottom: 1px solid rgba(168, 85, 247, 0.2);
      text-align: center;
    }

    .modal-termos-header h2 {
      color: #A855F7;
      font-size: 1.5rem;
      font-weight: 700;
      margin: 0 0 10px 0;
    }

    .modal-termos-header p {
      color: #94a3b8;
      font-size: 0.9rem;
      margin: 0;
    }

    .modal-termos-body {
      padding: 25px 30px;
      color: #cbd5e1;
      line-height: 1.6;
    }

    .modal-termos-highlight {
      background: rgba(168, 85, 247, 0.1);
      border: 1px solid rgba(168, 85, 247, 0.3);
      border-radius: 8px;
      padding: 20px;
      margin: 20px 0;
    }

    .modal-termos-highlight .title {
      color: #A855F7;
      font-weight: 600;
      font-size: 1.1rem;
      margin-bottom: 10px;
    }

    .modal-termos-warning {
      background: rgba(239, 68, 68, 0.1);
      border: 1px solid rgba(239, 68, 68, 0.3);
      border-radius: 8px;
      padding: 20px;
      margin: 25px 0;
    }

    .modal-termos-warning .title {
      color: #ef4444;
      font-weight: 600;
      font-size: 1.1rem;
      margin-bottom: 10px;
    }

    .modal-termos-body h3 {
      color: #A855F7;
      font-size: 1.2rem;
      margin: 25px 0 15px 0;
      font-weight: 600;
      border-left: 4px solid #A855F7;
      padding-left: 15px;
    }

    .modal-termos-body ul {
      margin: 10px 0 10px 20px;
    }

    .modal-termos-body li {
      margin-bottom: 8px;
      color: #e2e8f0;
    }

    .modal-termos-actions {
      display: flex;
      gap: 20px;
      margin-top: 30px;
      justify-content: center;
      flex-wrap: wrap;
      padding: 0 0 10px 0;
    }

    .btn-termos {
      padding: 15px 30px;
      border: none;
      border-radius: 25px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
      text-align: center;
      min-width: 150px;
    }

    .btn-termos-accept {
      background: linear-gradient(135deg, #10b981, #059669);
      color: white;
      box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
    }

    .btn-termos-accept:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
    }

    .btn-termos-cancel {
      background: linear-gradient(135deg, #6b7280, #4b5563);
      color: white;
      box-shadow: 0 4px 15px rgba(107, 114, 128, 0.3);
    }

    .btn-termos-cancel:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(107, 114, 128, 0.4);
      background: linear-gradient(135deg, #4b5563, #374151);
    }

    @media (max-width: 768px) {
      .modal-termos-content {
        margin: 10px;
        max-height: 95vh;
      }
      
      .modal-termos-header,
      .modal-termos-body {
        padding: 20px 25px;
      }
      
      .modal-termos-actions {
        flex-direction: column;
        align-items: center;
      }
      
      .btn-termos {
        min-width: 200px;
      }
    }

    /* === NOVOS ESTILOS VISUAIS MELHORADOS === */
    .bolao-codigo {
      font-family: 'Courier New', monospace;
      font-weight: bold;
      color: #A855F7;
      font-size: 1.1rem;
      margin-bottom: 0.5rem;
    }

    .bolao-probabilidade {
      display: inline-block;
      padding: 0.2rem 0.6rem;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .probabilidade-alta {
      background-color: #10b981;
      color: white;
    }

    .probabilidade-media {
      background-color: #f59e0b;
      color: white;
    }

    .probabilidade-baixa {
      background-color: #ef4444;
      color: white;
    }

    .bolao-valor {
      font-size: 1.2rem;
      font-weight: bold;
      color: #10b981;
    }

    .bolao-participantes {
      color: #94a3b8;
      font-size: 0.9rem;
    }

    .bolao-tempo-restante {
      color: #f59e0b;
      font-size: 0.8rem;
      font-weight: 600;
      margin-top: 0.5rem;
    }

    .bolao-numeros {
      background: rgba(168, 85, 247, 0.1);
      border: 1px solid rgba(168, 85, 247, 0.3);
      border-radius: 8px;
      padding: 0.5rem;
      margin: 0.5rem 0;
      font-family: 'Courier New', monospace;
      font-size: 0.9rem;
      color: #A855F7;
    }

    .bolao-numeros span {
      display: inline-block;
      color: white;
      padding: 0.2rem 0.4rem;
      margin: 0.1rem;
      border-radius: 4px;
      font-weight: bold;
    }
    
    .bolao-numeros .numero-principal {
      background: linear-gradient(135deg, #7C3AED, #A855F7);
      box-shadow: 0 2px 4px rgba(124, 58, 237, 0.3);
    }
    
    .bolao-numeros .numero-trevo {
      background: linear-gradient(135deg, #10B981, #34D399);
      box-shadow: 0 2px 4px rgba(16, 185, 129, 0.3);
      border: 2px solid #059669;
      font-size: 0.8em;
      padding: 0.15rem 0.3rem;
    }
    
    /* üîê Estilos de Controle de Acesso */
    .loteria-bloqueada {
      position: relative;
      filter: grayscale(70%);
    }
    
    .overlay-upgrade {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
      border-radius: 12px;
    }
    
    .upgrade-content {
      background: linear-gradient(135deg, #1F2937, #374151);
      border: 2px solid #7C3AED;
      border-radius: 12px;
      padding: 1.5rem;
      text-align: center;
      color: white;
      max-width: 300px;
      box-shadow: 0 10px 30px rgba(124, 58, 237, 0.3);
    }
    
    .upgrade-content h3 {
      margin: 0 0 1rem 0;
      color: #A855F7;
      font-size: 1.2rem;
    }
    
    .upgrade-content p {
      margin: 0.5rem 0;
      color: #D1D5DB;
      font-size: 0.9rem;
    }
    
    .btn-upgrade {
      background: linear-gradient(135deg, #7C3AED, #A855F7);
      color: white;
      border: none;
      padding: 0.8rem 1.5rem;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      margin-top: 1rem;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(124, 58, 237, 0.4);
    }
    
    .btn-upgrade:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(124, 58, 237, 0.6);
    }
    
    /* CSS para badge do plano */
    .plano-badge {
      margin-top: 6px;
      font-size: 11px;
      opacity: 1;
      font-weight: 600;
      text-align: center;
      background: rgba(255, 255, 255, 0.3);
      padding: 4px 8px;
      border-radius: 10px;
      border: 1px solid rgba(255, 255, 255, 0.4);
      width: 100%;
      box-sizing: border-box;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    /* Responsividade adicional para o plano */
    @media (max-width: 768px) {
      .plano-badge {
        font-size: 9px;
        padding: 2px 4px;
        margin-top: 4px;
      }
    }
  </style>
</head>
<body>
  <div class="main-content">

  {% if is_logged_in %}
  <!-- Indicador Visual de Status de Login (apenas para usu√°rios logados) -->
  <div class="logged-in-badge" style="min-width: 120px; height: auto; display: flex; flex-direction: column; align-items: center; text-align: center;">
    üîì LOGGED IN
    <div style="margin-top: 6px; font-size: 11px; background: rgba(255,255,255,0.3); padding: 4px 8px; border-radius: 10px; width: 100%; box-sizing: border-box; text-align: center;">
      {% if plano_display %}
        üìã {{ plano_display }}
      {% else %}
        ‚ö†Ô∏è DEBUG: plano_display = {{ plano_display|default('None') }}
      {% endif %}
    </div>
  </div>
  {% endif %}
  
  <!-- Menu Desktop -->
  <nav class="desktop-nav">
    <div class="desktop-nav-links">
      <a href="/"><i class="fa fa-home"></i> In√≠cio</a>
      <div class="dropdown">
        <a href="#" class="dropdown-toggle"><i class="fa fa-diamond"></i> +Milion√°ria ‚ñº</a>
        <div class="dropdown-content">
          <a href="/dashboard"><i class="fa fa-bullseye"></i> Palpite da Sorte</a>
          <a href="/painel_analises_estatisticas_milionaria"><i class="fa fa-chart-bar"></i> An√°lises Estat√≠sticas</a>
          <a href="/aposta_inteligente_premium"><i class="fa fa-chart-line"></i> Intelig√™ncia Estat√≠stica</a>
        </div>
      </div>
      <div class="dropdown">
        <a href="#" class="dropdown-toggle"><i class="fa fa-bullseye"></i> Mega Sena ‚ñº</a>
        <div class="dropdown-content">
          <a href="/dashboard_MS"><i class="fa fa-bullseye"></i> Palpite da Sorte</a>
          <a href="/aposta_inteligente_premium_MS"><i class="fa fa-chart-line"></i> Intelig√™ncia Estat√≠stica</a>
        </div>
      </div>
      <div class="dropdown">
        <a href="#" class="dropdown-toggle"><i class="fa fa-hashtag"></i> Quina ‚ñº</a>
        <div class="dropdown-content">
          <a href="/dashboard_quina"><i class="fa fa-bullseye"></i> Palpite da Sorte</a>
          <a href="/painel_analises_estatisticas_quina"><i class="fa fa-chart-bar"></i> An√°lises Estat√≠sticas</a>
          <a href="/aposta_inteligente_premium_quina"><i class="fa fa-chart-line"></i> Intelig√™ncia Estat√≠stica</a>
        </div>
      </div>
      <div class="dropdown">
        <a href="#" class="dropdown-toggle"><i class="fa fa-circle"></i> Lotomania ‚ñº</a>
        <div class="dropdown-content">
          <a href="/dashboard_lotomania"><i class="fa fa-bullseye"></i> Palpite da Sorte</a>
          <a href="/analise_estatistica_avancada_lotomania"><i class="fa fa-chart-bar"></i> Intelig√™ncia Estat√≠stica</a>
        </div>
      </div>
      <div class="dropdown">
        <a href="#" class="dropdown-toggle"><i class="fa fa-dice"></i> Lotof√°cil ‚ñº</a>
        <div class="dropdown-content">
          <a href="/dashboard_lotofacil"><i class="fa fa-bullseye"></i> Palpite da Sorte</a>
          <a href="/aposta_inteligente_premium_lotofacil"><i class="fa fa-chart-line"></i> Intelig√™ncia Estat√≠stica</a>
          <a href="/lotofacil_laboratorio"><i class="fa fa-flask"></i> Laborat√≥rio de Simula√ß√£o</a>
        </div>
      </div>
      <a href="/boloes_loterias" class="active"><i class="fa fa-users"></i> Bol√µes</a>

    </div>
  </nav>

  <!-- Breadcrumbs -->
  <div class="breadcrumbs-container">
    <nav class="breadcrumbs" aria-label="Breadcrumb">
      <ol class="breadcrumb-list">
        <li class="breadcrumb-item active">
          <span class="breadcrumb-link">üéØ Bol√µes</span>
        </li>
      </ol>
    </nav>
  </div>

  <div class="main-container">
    <div class="hamburger-menu">
      <div class="hamburger-icon" id="hamburgerIcon">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>

    <!-- Overlay para escurecer o fundo -->
    <div class="nav-overlay" id="navOverlay"></div>

    <nav class="nav-panel" id="navPanel">
      <div class="nav-header">
        <img src="/static/img/Logo_LoteriasIntelitente.png" alt="Logo" class="nav-logo">
        <h3>Menu</h3>
      </div>
      <ul>
        <li><a href="/"><i class="fa fa-home"></i> In√≠cio</a></li>
        <li>
          <a href="#" class="mobile-dropdown-toggle"><i class="fa fa-diamond"></i> +Milion√°ria ‚ñº</a>
          <div class="mobile-dropdown">
            <a href="/dashboard"><i class="fa fa-bullseye"></i> Palpite da Sorte</a>
            <a href="/painel_analises_estatisticas_milionaria"><i class="fa fa-chart-bar"></i> An√°lises Estat√≠sticas</a>
            <a href="/aposta_inteligente_premium"><i class="fa fa-chart-line"></i> Intelig√™ncia Estat√≠stica</a>
          </div>
        </li>
        <li>
          <a href="#" class="mobile-dropdown-toggle"><i class="fa fa-bullseye"></i> Mega Sena ‚ñº</a>
          <div class="mobile-dropdown">
            <a href="/dashboard_MS"><i class="fa fa-bullseye"></i> Palpite da Sorte</a>
            <a href="/aposta_inteligente_premium_MS"><i class="fa fa-chart-line"></i> Intelig√™ncia Estat√≠stica</a>
          </div>
        </li>
        <li>
          <a href="#" class="mobile-dropdown-toggle"><i class="fa fa-hashtag"></i> Quina ‚ñº</a>
          <div class="mobile-dropdown">
            <a href="/dashboard_quina"><i class="fa fa-bullseye"></i> Palpite da Sorte</a>
            <a href="/painel_analises_estatisticas_quina"><i class="fa fa-chart-bar"></i> An√°lises Estat√≠sticas</a>
            <a href="/aposta_inteligente_premium_quina"><i class="fa fa-chart-line"></i> Intelig√™ncia Estat√≠stica</a>
          </div>
        </li>
        <li>
          <a href="#" class="mobile-dropdown-toggle"><i class="fa fa-circle"></i> Lotomania ‚ñº</a>
          <div class="mobile-dropdown">
            <a href="/dashboard_lotomania"><i class="fa fa-bullseye"></i> Palpite da Sorte</a>
            <a href="/analise_estatistica_avancada_lotomania"><i class="fa fa-chart-bar"></i> Intelig√™ncia Estat√≠stica</a>
          </div>
        </li>
        <li>
                  <a href="#" class="mobile-dropdown-toggle"><i class="fa fa-dice"></i> Lotof√°cil ‚ñº</a>
        <div class="mobile-dropdown">
          <a href="/dashboard_lotofacil"><i class="fa fa-bullseye"></i> Palpite da Sorte</a>
          <a href="/aposta_inteligente_premium_lotofacil"><i class="fa fa-chart-line"></i> Intelig√™ncia Estat√≠stica</a>
          <a href="/lotofacil_laboratorio"><i class="fa fa-flask"></i> Laborat√≥rio de Simula√ß√£o</a>
        </div>
        </li>
        <li><a href="/boloes_loterias" class="active"><i class="fa fa-users"></i> Bol√µes</a></li>
  
        </ul>
    </nav>

    <div class="logo-container">
      <img src="/static/img/Logo_LoteriasIntelitente.png" alt="Logo Loterias Inteligente" class="logo">
    </div>

    <div class="container">
      <h1>Participe dos Nossos Bol√µes</h1>
      <div class="tabs">
        <button class="tab active" onclick="abrirAba(event, 'por-que')">Por que jogar em grupo?</button>
        <button class="tab" onclick="abrirAba(event, 'como-funciona')">Como funcionam nossos bol√µes</button>
        <button class="tab" onclick="acessoBoloes(event, 'loterias')">Loterias</button>
      </div>

      <div id="por-que" class="tab-content active">
        <h2>Jogue em grupo e aumente suas chances!</h2>
        <p>Ao jogar em grupo, voc√™ participa de apostas maiores por um custo muito menor. Com mais n√∫meros e combina√ß√µes, as chances de ganhar aumentam significativamente. Al√©m disso, voc√™ compartilha a experi√™ncia com outras pessoas ‚Äî o que torna tudo mais divertido e emocionante!</p>
        <p>Nossos bol√µes s√£o organizados com an√°lise estat√≠stica avan√ßada, garantindo que cada aposta tenha fundamenta√ß√£o matem√°tica s√≥lida.</p>
      </div>

      <div id="como-funciona" class="tab-content">
        <h2>Como funcionam nossos bol√µes?</h2>
        <p>Nossos grupos s√£o organizados por loteria. Quando um n√∫mero m√≠nimo de cotistas √© alcan√ßado, a aposta √© realizada automaticamente. Todos os participantes recebem notifica√ß√µes de status e podem acompanhar o fechamento do grupo. O jogo s√≥ acontece com o valor total garantido.</p>
        <p>Utilizamos an√°lise de clusters, padr√µes sequenciais e distribui√ß√£o estat√≠stica para otimizar as probabilidades de cada bol√£o.</p>
      </div>

      <div id="loterias" class="tab-content">
        <h2>Bol√µes por Loterias</h2>
        
        <!-- Sub-abas para loterias -->
        <div class="sub-tabs">
          <button class="sub-tab active" onclick="abrirSubAba(event, 'milionaria')">+Milion√°ria</button>
          <button class="sub-tab" onclick="abrirSubAba(event, 'lotofacil')">Lotof√°cil</button>
          <button class="sub-tab" onclick="abrirSubAba(event, 'megasena')">Mega Sena</button>
          <button class="sub-tab" onclick="abrirSubAba(event, 'quina')">Quina</button>
        </div>

        <!-- Conte√∫do das sub-abas -->
        <div id="milionaria" class="sub-tab-content active">
          <h3>Bol√µes +Milion√°ria</h3>
          <div class="bolao-card">
            <h3>Grupo MM-LDO-01</h3>
            <p>Probabilidade: Alta</p>
            <p>Valor da cota: R$ 10,00</p>
            <p>Participantes: 7 / 15</p>
            <span class="status forming">üîÑ Em forma√ß√£o</span>
          </div>
          <div class="bolao-card">
            <h3>Grupo MM-LDO-02</h3>
            <p>Probabilidade: Boa</p>
            <p>Valor da cota: R$ 12,00</p>
            <p>Participantes: 12 / 15</p>
            <span class="status almost">‚ö° Quase fechado</span>
          </div>
          <div class="bolao-card">
            <h3>Grupo MM-LDO-03</h3>
            <p>Probabilidade: Muito Alta</p>
            <p>Valor da cota: R$ 15,00</p>
            <p>Participantes: 5 / 20</p>
            <span class="status forming">üîÑ Em forma√ß√£o</span>
          </div>
        </div>

        <div id="lotofacil" class="sub-tab-content">
          <h3>Bol√µes Lotof√°cil</h3>
          <div class="bolao-card">
            <h3>Grupo LF-LDO-01</h3>
            <p>Probabilidade: Muito Alta</p>
            <p>Valor da cota: R$ 8,00</p>
            <p>Participantes: 18 / 25</p>
            <span class="status almost">‚ö° Quase fechado</span>
          </div>
          <div class="bolao-card">
            <h3>Grupo LF-LDO-02</h3>
            <p>Probabilidade: Alta</p>
            <p>Valor da cota: R$ 10,00</p>
            <p>Participantes: 12 / 20</p>
            <span class="status forming">üîÑ Em forma√ß√£o</span>
          </div>
        </div>

        <div id="megasena" class="sub-tab-content">
          <h3>Bol√µes Mega Sena</h3>
          <div class="bolao-card">
            <h3>Grupo MS-LDO-01</h3>
            <p>Probabilidade: M√©dia</p>
            <p>Valor da cota: R$ 20,00</p>
            <p>Participantes: 8 / 15</p>
            <span class="status forming">üîÑ Em forma√ß√£o</span>
          </div>
          <div class="bolao-card">
            <h3>Grupo MS-LDO-02</h3>
            <p>Probabilidade: Boa</p>
            <p>Valor da cota: R$ 25,00</p>
            <p>Participantes: 10 / 12</p>
            <span class="status almost">‚ö° Quase fechado</span>
          </div>
        </div>

        <div id="quina" class="sub-tab-content">
          <h3>Bol√µes Quina</h3>
          <div class="bolao-card">
            <h3>Grupo QN-LDO-01</h3>
            <p>Probabilidade: Alta</p>
            <p>Valor da cota: R$ 6,00</p>
            <p>Participantes: 15 / 20</p>
            <span class="status forming">üîÑ Em forma√ß√£o</span>
          </div>
          <div class="bolao-card">
            <h3>Grupo QN-LDO-02</h3>
            <p>Probabilidade: Muito Alta</p>
            <p>Valor da cota: R$ 8,00</p>
            <p>Participantes: 22 / 25</p>
            <span class="status almost">‚ö° Quase fechado</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    function abrirAba(evt, nomeAba) {
      var i, conteudos, abas;
      conteudos = document.getElementsByClassName("tab-content");
      for (i = 0; i < conteudos.length; i++) {
        conteudos[i].classList.remove("active");
      }
      abas = document.getElementsByClassName("tab");
      for (i = 0; i < abas.length; i++) {
        abas[i].classList.remove("active");
      }
      document.getElementById(nomeAba).classList.add("active");
      evt.currentTarget.classList.add("active");
    }

    function abrirSubAba(evt, nomeSubAba) {
      var i, subConteudos, subAbas;
      subConteudos = document.getElementsByClassName("sub-tab-content");
      for (i = 0; i < subConteudos.length; i++) {
        subConteudos[i].classList.remove("active");
      }
      subAbas = document.getElementsByClassName("sub-tab");
      for (i = 0; i < subAbas.length; i++) {
        subAbas[i].classList.remove("active");
      }
      document.getElementById(nomeSubAba).classList.add("active");
      evt.currentTarget.classList.add("active");
    }

    document.addEventListener('DOMContentLoaded', function() {
      const hamburgerIcon = document.getElementById('hamburgerIcon');
      const navPanel = document.getElementById('navPanel');
      const navOverlay = document.getElementById('navOverlay');

      if (hamburgerIcon && navPanel && navOverlay) {
        hamburgerIcon.addEventListener('click', () => {
          hamburgerIcon.classList.toggle('open');
          navPanel.classList.toggle('open');
          navOverlay.classList.toggle('open');
          
          document.body.style.overflow = navPanel.classList.contains('open') ? 'hidden' : '';
        });

        // Controle do submenu mobile
        const mobileDropdownToggles = document.querySelectorAll('.mobile-dropdown-toggle');
        mobileDropdownToggles.forEach(toggle => {
          toggle.addEventListener('click', (e) => {
            e.preventDefault();
            const dropdown = toggle.nextElementSibling;
            dropdown.classList.toggle('show');
          });
        });

        // Fechar o menu ao clicar em um link (exceto dropdown toggles)
        navPanel.querySelectorAll('a:not(.mobile-dropdown-toggle)').forEach(link => {
          link.addEventListener('click', () => {
            hamburgerIcon.classList.remove('open');
            navPanel.classList.remove('open');
            navOverlay.classList.remove('open');
            document.body.style.overflow = '';
          });
        });

        // Fechar o menu ao clicar fora dele
        navPanel.addEventListener('click', (e) => {
          if (e.target === navPanel) {
            hamburgerIcon.classList.remove('open');
            navPanel.classList.remove('open');
            navOverlay.classList.remove('open');
            document.body.style.overflow = '';
          }
        });

        // Fechar o menu com tecla ESC
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape' && navPanel.classList.contains('open')) {
            hamburgerIcon.classList.remove('open');
            navPanel.classList.remove('open');
            navOverlay.classList.remove('open');
            document.body.style.overflow = '';
          }
        });
      }
    });
  </script>
  
  
  

  <!-- üîê MODAL LOGIN/CADASTRO JAVASCRIPT -->
  <script src="{{ url_for('static', filename='js/modal-login-cadastro.js') }}" defer></script>
  </div> <!-- Fim do main-content -->

  <!-- MODAL DE TERMOS DE BOL√ïES -->
  <div id="modalTermosBoloes" class="modal-termos-boloes">
    <div class="modal-termos-content">
      <div class="modal-termos-header">
        <h2>Loterias Inteligente</h2>
        <p>Termos de Participa√ß√£o em Bol√µes</p>
      </div>

      <div class="modal-termos-body">
        <div class="modal-termos-highlight">
          <div class="title">üéØ O que s√£o nossos bol√µes?</div>
          <p>Bol√µes s√£o apostas coletivas onde v√°rias pessoas se unem para jogar com mais n√∫meros, dividindo custos e eventuais premia√ß√µes. Utilizamos an√°lise estat√≠stica para orientar a sele√ß√£o de n√∫meros.</p>
        </div>

        <h3>Como Funciona</h3>
        <ul>
          <li><strong>Voc√™ paga sua cota</strong> e participa de apostas maiores com outros jogadores</li>
          <li><strong>Usamos an√°lise de dados</strong> hist√≥ricos para orientar a escolha dos n√∫meros</li>
          <li><strong>Compramos os jogos oficialmente</strong> na Caixa Econ√¥mica Federal</li>
          <li><strong>Compartilhamos comprovantes</strong> de todas as apostas realizadas</li>
          <li><strong>Dividimos pr√™mios</strong> proporcionalmente entre os participantes</li>
        </ul>

        <div class="modal-termos-warning">
          <div class="title">‚ö†Ô∏è IMPORTANTE - Leia com aten√ß√£o</div>
          <p><strong>Loterias s√£o jogos de sorte.</strong> Nossa an√°lise estat√≠stica n√£o garante resultados. Voc√™ pode perder todo o dinheiro investido.</p>
          <p><strong>Invista apenas o que pode perder</strong> sem comprometer suas finan√ßas pessoais ou familiares.</p>
        </div>

        <h3>Suas Responsabilidades</h3>
        <ul>
          <li>Pagar sua cota antes do fechamento do bol√£o</li>
          <li>Fornecer dados corretos para contato e eventual pagamento de pr√™mios</li>
          <li>Jogar com responsabilidade financeira</li>
          <li>Entender que n√£o h√° garantia de ganhos</li>
        </ul>

        <h3>Nossas Responsabilidades</h3>
        <ul>
          <li>Comprar os jogos oficialmente na Caixa Econ√¥mica Federal</li>
          <li>Enviar comprovantes das apostas para todos os participantes</li>
          <li>Divulgar resultados de forma transparente</li>
          <li>Distribuir pr√™mios proporcionalmente em at√© 5 dias √∫teis</li>
          <li>Manter seus dados seguros conforme LGPD</li>
        </ul>

        <h3>Cancelamentos e Reembolsos</h3>
        <p>Voc√™ pode desistir em at√© <strong>2 horas ap√≥s o pagamento</strong>, desde que o bol√£o ainda n√£o tenha sido efetivado. Ap√≥s a compra dos jogos, n√£o h√° possibilidade de reembolso.</p>

        <h3>Taxas e Custos</h3>
        <p>Cobramos uma taxa administrativa de <strong>10% sobre o valor arrecadado</strong> para cobrir custos operacionais, tecnologia e atendimento.</p>

        <div class="modal-termos-actions">
          <button class="btn-termos btn-termos-accept" onclick="aceitarTermosBoloes()">
            ‚úÖ Li e Aceito os Termos
          </button>
          <button class="btn-termos btn-termos-cancel" onclick="cancelarTermosBoloes()">
            ‚Üê Voltar
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- RODAP√â -->
  <footer class="site-footer" role="contentinfo">
    <div class="footer-row">
      <div class="footer-text">
        <strong>Pol√≠tica de Honestidade & Jogo Respons√°vel.</strong>
        Loterias Inteligentes √© uma plataforma independente de an√°lise estat√≠stica,
        sem v√≠nculo com a Caixa Econ√¥mica Federal. Nossas ferramentas oferecem
        insights baseados em dados, mas loterias envolvem sorte e aleatoriedade ‚Äî
        n√£o h√° garantias de ganhos. Jogue com responsabilidade.
      </div>
      <div class="footer-actions">
        <button class="footer-toggle" id="footerToggle" onclick="openFooterModal()">
          Ver detalhes
        </button>
      </div>
    </div>
  </footer>

  <!-- MODAL DO RODAP√â -->
  <div id="footer-modal" class="footer-modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h4 style="margin:0 0 .6rem 0;">Pol√≠tica de Honestidade & Jogo Respons√°vel ‚Äî Detalhes</h4>
        <button class="modal-close" onclick="closeFooterModal()">&times;</button>
      </div>
      <div class="modal-body">
        <p style="opacity:.9;margin:.3rem 0 1rem 0;">
          Somos uma plataforma independente de <strong>an√°lise estat√≠stica</strong> para loterias. 
          Nosso objetivo √© oferecer <em>insights</em> √∫teis ‚Äî sem prometer resultados. Jogue com responsabilidade.
        </p>

        <details>
          <summary><strong>1) Como nossas ferramentas funcionam</strong></summary>
          <ul>
            <li><strong>Fontes de dados:</strong> resultados oficiais p√∫blicos.</li>
            <li><strong>M√©todos estat√≠sticos:</strong> frequ√™ncia, distribui√ß√£o, padr√µes sequenciais, correla√ß√µes/clusteriza√ß√£o, sazonalidade e testes simples de aleatoriedade.</li>
            <li><strong>Atualiza√ß√£o:</strong> os pain√©is s√£o atualizados periodicamente conforme novos concursos s√£o publicados.</li>
            <li><strong>Objetivo:</strong> reduzir ru√≠dos e apoiar escolhas mais conscientes; <u>n√£o</u> prever o futuro.</li>
          </ul>
        </details>

        <details>
          <summary><strong>2) Limites e incertezas (disclaimer)</strong></summary>
          <ul>
            <li>Loterias s√£o jogos de <strong>sorte e aleatoriedade</strong>. N√£o existe garantia de acerto ou lucro.</li>
            <li>An√°lises baseadas em dados passados <strong>n√£o determinam</strong> resultados futuros.</li>
            <li>Use as ferramentas como <em>apoio</em> √† decis√£o ‚Äî a escolha final e os riscos s√£o seus.</li>
          </ul>
        </details>

        <details>
          <summary><strong>3) Jogo respons√°vel</strong></summary>
          <ul>
            <li>Defina <strong>limite de gasto</strong> e <strong>frequ√™ncia</strong> antes de apostar; n√£o tente "recuperar perdas".</li>
            <li><strong>Sinais de alerta:</strong> apostar com dinheiro reservado a contas essenciais; esconder gastos; ansiedade ao n√£o apostar; comprometer rela√ß√µes/prazo de trabalho.</li>
            <li><strong>Se precisar de apoio:</strong> procure servi√ßos de sa√∫de locais ou grupos de ajuda para comportamentos de jogo. Cuidar de si √© prioridade.</li>
          </ul>
        </details>

        <details>
          <summary><strong>4) Privacidade & LGPD</strong></summary>
          <ul>
            <li>Tratamos dados pessoais conforme a <strong>LGPD</strong> (Lei 13.709/2018).</li>
            <li>Usamos cookies para funcionalidades essenciais e m√©tricas de uso do site.</li>
            <li><strong>Seus direitos:</strong> confirma√ß√£o de tratamento, acesso, corre√ß√£o, anonimiza√ß√£o/elimina√ß√£o, portabilidade e revoga√ß√£o de consentimento.</li>
            <li><strong>Contato do DPO/Suporte:</strong> <a href="mailto:support@seudominio.com">support@seudominio.com</a></li>
          </ul>
        </details>

        <details>
          <summary><strong>5) Independ√™ncia e marcas</strong></summary>
          <ul>
            <li>Plataforma <strong>independente</strong>, sem v√≠nculo, patroc√≠nio ou endosso da Caixa Econ√¥mica Federal.</li>
            <li>Marcas e logos de terceiros pertencem aos seus respectivos propriet√°rios.</li>
          </ul>
        </details>

        <details>
          <summary><strong>6) Transpar√™ncia t√©cnica</strong></summary>
          <ul>
            <li><strong>Metodologia:</strong> cada estudo mostra o <em>crit√©rio</em> usado (ex.: janela de concursos, regras de c√°lculo, filtros aplicados).</li>
            <li><strong>Relato de desempenho:</strong> quando exibimos acertos ou simula√ß√µes, indicamos o <em>per√≠odo</em>, <em>par√¢metros</em> e <em>limita√ß√µes</em> ‚Äî sem "cherry-picking".</li>
          </ul>
        </details>

        <details>
          <summary><strong>7) Documentos legais & contato</strong></summary>
          <ul>
            <li><a href="/politica-de-honestidade">Pol√≠tica de Honestidade</a> ‚Ä¢ <a href="/termos">Termos de Uso</a> ‚Ä¢ <a href="/privacidade">Pol√≠tica de Privacidade</a></li>
            <li><strong>CNPJ:</strong> 00.000.000/0000-00 ‚Ä¢ <strong>WhatsApp:</strong> <a href="https://wa.me/55SEUNUMERO" target="_blank" rel="noopener">fale com a equipe</a></li>
            <li><strong>Atendimento:</strong> seg‚Äìsex, 9h‚Äì18h (hor√°rio local)</li>
          </ul>
        </details>

        <p style="opacity:.7;margin-top:.8rem;font-size:.9em;">√öltima atualiza√ß√£o: <em>agosto/2025</em></p>
      </div>
    </div>
  </div>

  <!-- JavaScript do modal do rodap√© -->
  <script>
    function openFooterModal() {
      const modal = document.getElementById('footer-modal');
      if (modal) {
        modal.style.display = 'flex';
        document.body.style.overflow = 'hidden'; // Previne scroll do body
      }
    }
    
    function closeFooterModal() {
      const modal = document.getElementById('footer-modal');
      if (modal) {
        modal.style.display = 'none';
        document.body.style.overflow = 'auto'; // Restaura scroll do body
      }
    }
    
    // Fechar modal ao clicar fora dele
    document.addEventListener('click', function(event) {
      const modal = document.getElementById('footer-modal');
      if (event.target === modal) {
        closeFooterModal();
      }
    });
    
    // Fechar modal com tecla ESC
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape') {
        closeFooterModal();
      }
    });

    // üéØ SISTEMA DIN√ÇMICO DE BOL√ïES
    class BolaoManager {
      constructor() {
        this.boloes = {};
        this.usuarioLogado = this.verificarStatusLogin(); // Verificar login real
        this.init();
      }

      async init() {
        console.log('üöÄ Inicializando sistema de bol√µes...');
        console.log('üîê Status de login inicial:', this.usuarioLogado);
        console.log('üîê window.isLoggedIn na inicializa√ß√£o:', window.isLoggedIn);
        
        // üîê Aplicar controle de acesso por plano
        this.aplicarControleAcesso();
        
        await this.carregarBoloes();
        this.atualizarInterface();
        this.configurarEventos();
      }
      
      aplicarControleAcesso() {
        console.log('üîê Aplicando controle de acesso por plano...');
        
        // Se n√£o tem loterias permitidas, bloquear tudo
        if (!window.loteriasPermitidas || window.loteriasPermitidas.length === 0) {
          this.bloquearTodasLoterias();
          return;
        }
        
        // Bloquear loterias espec√≠ficas baseado no plano
        const mapeamentoLoterias = {
          'milionaria': 'milionaria',
          'lotofacil': 'lotofacil', 
          'megasena': 'megasena',
          'quina': 'quina'
        };
        
        Object.keys(mapeamentoLoterias).forEach(loteria => {
          const container = document.getElementById(loteria);
          if (container) {
            if (window.loteriasPermitidas.includes(mapeamentoLoterias[loteria])) {
              this.liberarLoteria(loteria, container);
            } else {
              this.bloquearLoteria(loteria, container);
            }
          }
        });
      }
      
      liberarLoteria(loteria, container) {
        container.style.opacity = '1';
        container.style.pointerEvents = 'auto';
        container.classList.remove('loteria-bloqueada');
        console.log(`‚úÖ Loteria ${loteria} liberada`);
      }
      
      bloquearLoteria(loteria, container) {
        container.style.opacity = '0.5';
        container.style.pointerEvents = 'none';
        container.classList.add('loteria-bloqueada');
        
        // Adicionar overlay de upgrade
        this.adicionarOverlayUpgrade(loteria, container);
        console.log(`‚ùå Loteria ${loteria} bloqueada`);
      }
      
      bloquearTodasLoterias() {
        const loterias = ['milionaria', 'lotofacil', 'megasena', 'quina'];
        loterias.forEach(loteria => {
          const container = document.getElementById(loteria);
          if (container) {
            this.bloquearLoteria(loteria, container);
          }
        });
      }
      
      liberarTodasLoterias() {
        console.log('‚úÖ LIBERANDO TODAS AS LOTERIAS - Bypass para usu√°rio premium');
        const loterias = ['milionaria', 'lotofacil', 'megasena', 'quina'];
        loterias.forEach(loteria => {
          const container = document.getElementById(loteria);
          if (container) {
            this.liberarLoteria(loteria, container);
          }
        });
      }
      
      adicionarOverlayUpgrade(loteria, container) {
        // Remover overlay existente se houver
        const overlayExistente = container.querySelector('.overlay-upgrade');
        if (overlayExistente) {
          overlayExistente.remove();
        }
        
        const nomesLoterias = {
          'milionaria': '+Milion√°ria',
          'lotofacil': 'Lotof√°cil',
          'megasena': 'Mega Sena',
          'quina': 'Quina'
        };
        
        const overlay = document.createElement('div');
        overlay.className = 'overlay-upgrade';
        overlay.innerHTML = `
          <div class="upgrade-content">
            <h3>üîí ${nomesLoterias[loteria] || loteria}</h3>
            <p>Upgrade necess√°rio para acessar esta loteria</p>
            <p><strong>Seu plano:</strong> ${window.infoPlano?.nome_display || 'Gratuito'}</p>
            <button class="btn-upgrade" onclick="window.location.href='/upgrade_plans'">
              üöÄ Fazer Upgrade
            </button>
          </div>
        `;
        
        container.appendChild(overlay);
      }

      // M√©todo para atualizar status de login dinamicamente
      atualizarStatusLogin() {
        const novoStatus = this.verificarStatusLogin();
        if (novoStatus !== this.usuarioLogado) {
          console.log('üîÑ Status de login alterado:', this.usuarioLogado, '‚Üí', novoStatus);
          this.usuarioLogado = novoStatus;
          this.atualizarInterface(); // Atualizar interface com novo status
        }
        return novoStatus;
      }

      async carregarBoloes() {
        try {
          console.log('üì° Carregando bol√µes da API...');
          
          // Carregar bol√µes por loteria
          const loterias = ['milionaria', 'lotofacil', 'megasena', 'quina'];
          
          for (const loteria of loterias) {
            const response = await fetch(`/api/boloes/listar?loteria=${loteria}`);
            const data = await response.json();
            
            if (data.success) {
              this.boloes[loteria] = data.boloes;
              console.log(`‚úÖ ${loteria}: ${data.boloes.length} bol√µes carregados`);
            } else {
              console.error(`‚ùå Erro ao carregar ${loteria}:`, data.error);
              this.boloes[loteria] = [];
            }
          }
          
        } catch (error) {
          console.error('‚ùå Erro ao carregar bol√µes:', error);
          // Fallback para dados est√°ticos
          this.carregarDadosFallback();
        }
      }

      carregarDadosFallback() {
        console.log('üîÑ Carregando dados fallback...');
        this.boloes = {
          milionaria: [
            {
              codigo: 'MM-LDO-01',
              nome: 'Grupo MM-LDO-01',
              valor_cota: 10.00,
              total_cotas: 15,
              cotas_vendidas: 7,
              status: 'forming',
              probabilidade: 'Alta'
            },
            {
              codigo: 'MM-LDO-02',
              nome: 'Grupo MM-LDO-02',
              valor_cota: 12.00,
              total_cotas: 15,
              cotas_vendidas: 12,
              status: 'almost',
              probabilidade: 'Boa'
            }
          ],
          lotofacil: [
            {
              codigo: 'LF-LDO-01',
              nome: 'Grupo LF-LDO-01',
              valor_cota: 8.00,
              total_cotas: 25,
              cotas_vendidas: 18,
              status: 'almost',
              probabilidade: 'Muito Alta'
            }
          ],
          megasena: [
            {
              codigo: 'MS-LDO-01',
              nome: 'Grupo MS-LDO-01',
              valor_cota: 20.00,
              total_cotas: 15,
              cotas_vendidas: 8,
              status: 'forming',
              probabilidade: 'M√©dia'
            }
          ],
          quina: [
            {
              codigo: 'QN-LDO-01',
              nome: 'Grupo QN-LDO-01',
              valor_cota: 6.00,
              total_cotas: 20,
              cotas_vendidas: 15,
              status: 'forming',
              probabilidade: 'Alta'
            }
          ]
        };
      }

      atualizarInterface() {
        console.log('üé® Atualizando interface com dados din√¢micos...');
        
        // Atualizar cada se√ß√£o de loteria
        Object.keys(this.boloes).forEach(loteria => {
          this.atualizarSecaoLoteria(loteria);
        });
      }

      atualizarSecaoLoteria(loteria) {
        const container = document.getElementById(loteria);
        if (!container) return;

        const boloes = this.boloes[loteria];
        if (!boloes || boloes.length === 0) {
          container.innerHTML = `
            <h3>Bol√µes ${this.formatarNomeLoteria(loteria)}</h3>
            <div class="no-boloes">
              <p>üì≠ Nenhum bol√£o dispon√≠vel no momento.</p>
              <p>Volte em breve para novas oportunidades!</p>
            </div>
          `;
          return;
        }

        let html = `<h3>Bol√µes ${this.formatarNomeLoteria(loteria)}</h3>`;
        
        boloes.forEach(bolao => {
          html += this.criarCardBolao(bolao);
        });

        container.innerHTML = html;
      }

      criarCardBolao(bolao) {
        const cotasRestantes = bolao.total_cotas - bolao.cotas_vendidas;
        const percentualPreenchido = Math.round((bolao.cotas_vendidas / bolao.total_cotas) * 100);
        
        let statusClass = 'forming';
        let statusText = 'üîÑ Em forma√ß√£o';
        let statusIcon = 'üîÑ';

        if (bolao.status === 'almost') {
          statusClass = 'almost';
          statusText = '‚ö° Quase fechado';
          statusIcon = '‚ö°';
        } else if (bolao.status === 'closed') {
          statusClass = 'closed';
          statusText = 'üîí Fechado';
          statusIcon = 'üîí';
        }

        // Gerar c√≥digo √∫nico baseado na loteria
        const codigoUnico = this.gerarCodigoUnico(bolao);
        
        // Determinar classe da probabilidade
        const classProbabilidade = this.obterClasseProbabilidade(bolao.probabilidade);
        
        // Gerar n√∫meros de exemplo (ou usar os reais se dispon√≠vel)
        const numerosApostados = this.gerarNumerosExemplo(bolao);
        
        // Calcular tempo restante estimado
        const tempoRestante = this.calcularTempoRestante(bolao);

        return `
          <div class="bolao-card" data-bolao-id="${bolao.id || bolao.codigo}">
            <div class="bolao-codigo">${codigoUnico}</div>
            <h3>${bolao.nome.replace(/Grupo\s+/, 'Grupo Inteligente ')}</h3>
            <div class="bolao-probabilidade ${classProbabilidade}">Probabilidade: ${bolao.probabilidade}</div>
            <p class="bolao-valor">Valor da cota: R$ ${bolao.valor_cota.toFixed(2).replace('.', ',')}</p>
            <p class="bolao-participantes">Participantes: ${bolao.cotas_vendidas} / ${bolao.total_cotas}</p>
            <div class="progress-bar">
              <div class="progress-fill" style="width: ${percentualPreenchido}%"></div>
              <span class="progress-text">${percentualPreenchido}%</span>
            </div>
            <p class="bolao-tempo-restante">${tempoRestante}</p>
            <div class="bolao-numeros">${numerosApostados}</div>
            <span class="status ${statusClass}">${statusText}</span>
            ${this.criarBotoesAcao(bolao)}
          </div>
        `;
      }

      criarBotoesAcao(bolao) {
        // Verificar status de login atualizado
        this.atualizarStatusLogin();
        
        if (!this.usuarioLogado) {
          return `
            <div class="bolao-actions">
              <button class="btn-login" onclick="bolaoManager.solicitarLogin()">
                üîí Fazer Login para Participar
              </button>
            </div>
          `;
        }

        if (bolao.status === 'closed') {
          return `
            <div class="bolao-actions">
              <button class="btn-disabled" disabled>
                üîí Bol√£o Fechado
              </button>
            </div>
          `;
        }

        const cotasRestantes = bolao.total_cotas - bolao.cotas_vendidas;
        
        return `
          <div class="bolao-actions">
            <button class="btn-participar" onclick="bolaoManager.participarBolao('${bolao.codigo}')">
              üéØ Participar (${cotasRestantes} cotas restantes)
            </button>
            <button class="btn-detalhes" onclick="bolaoManager.verDetalhes('${bolao.codigo}')">
              üìä Ver Detalhes
            </button>
          </div>
        `;
      }

      formatarNomeLoteria(loteria) {
        const nomes = {
          'milionaria': '+Milion√°ria',
          'lotofacil': 'Lotof√°cil',
          'megasena': 'Mega Sena',
          'quina': 'Quina'
        };
        return nomes[loteria] || loteria;
      }

      gerarCodigoUnico(bolao) {
        // Gerar c√≥digos √∫nicos baseados na loteria
        const prefixos = {
          'milionaria': 'LI-MF',
          'lotofacil': 'LI-LF',
          'megasena': 'LI-MS',
          'quina': 'LI-QN'
        };
        
        // Usar ID ou c√≥digo existente para manter consist√™ncia
        const id = bolao.id || bolao.codigo || '001';
        const numeroFormatado = String(id).padStart(3, '0');
        
        // Determinar prefixo baseado no nome do bol√£o ou loteria
        let prefixo = 'LI-XX';
        if (bolao.nome && bolao.nome.includes('MM-')) prefixo = 'LI-MF';
        else if (bolao.nome && bolao.nome.includes('LF-')) prefixo = 'LI-LF';
        else if (bolao.nome && bolao.nome.includes('MS-')) prefixo = 'LI-MS';
        else if (bolao.nome && bolao.nome.includes('QN-')) prefixo = 'LI-QN';
        else if (bolao.loteria) prefixo = prefixos[bolao.loteria] || 'LI-XX';
        
        return `${prefixo}-${numeroFormatado}`;
      }

      obterClasseProbabilidade(probabilidade) {
        if (!probabilidade) return 'probabilidade-media';
        
        const prob = probabilidade.toLowerCase();
        if (prob.includes('alta') || prob.includes('muito')) return 'probabilidade-alta';
        if (prob.includes('m√©dia') || prob.includes('boa')) return 'probabilidade-media';
        if (prob.includes('baixa')) return 'probabilidade-baixa';
        
        return 'probabilidade-media';
      }

      gerarNumerosExemplo(bolao) {
        // üéØ PRIORIDADE 1: N√∫meros reais do banco de dados
        if (bolao.numeros_escolhidos) {
          let html = '';
          
          // N√∫meros principais
          if (bolao.numeros_escolhidos.numeros && Array.isArray(bolao.numeros_escolhidos.numeros)) {
            html += bolao.numeros_escolhidos.numeros.map(num => 
              `<span class="numero-principal">${String(num).padStart(2, '0')}</span>`
            ).join('');
          }
          
          // Trevos da sorte (apenas para Milion√°ria)
          if (bolao.numeros_escolhidos.trevos && Array.isArray(bolao.numeros_escolhidos.trevos)) {
            html += bolao.numeros_escolhidos.trevos.map(trevo => 
              `<span class="numero-trevo">üçÄ${String(trevo).padStart(2, '0')}</span>`
            ).join('');
          }
          
          if (html) return html;
        }
        
        // üéØ PRIORIDADE 2: N√∫meros apostados (campo alternativo)
        if (bolao.numeros_apostados && Array.isArray(bolao.numeros_apostados)) {
          return bolao.numeros_apostados.map(num => 
            `<span class="numero-principal">${String(num).padStart(2, '0')}</span>`
          ).join('');
        }
        
        // üéØ FALLBACK: Gerar n√∫meros de exemplo baseados na loteria
        let numeros = [];
        const nome = bolao.nome || '';
        const codigo = bolao.codigo || '';
        
        if (nome.includes('MF-') || codigo.includes('MF-')) {
          // Milion√°ria: 6 n√∫meros + 2 trevos
          numeros = [3, 7, 15, 23, 35, 42];
          const trevos = [2, 5];
          const numerosHtml = numeros.map(num => `<span class="numero-principal">${String(num).padStart(2, '0')}</span>`).join('');
          const trevosHtml = trevos.map(trevo => `<span class="numero-trevo">üçÄ${String(trevo).padStart(2, '0')}</span>`).join('');
          return numerosHtml + trevosHtml;
        } else if (nome.includes('LF-') || codigo.includes('LF-')) {
          // Lotof√°cil: 15 n√∫meros
          numeros = [1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25];
        } else if (nome.includes('MS-') || codigo.includes('MS-')) {
          // Mega Sena: 6 n√∫meros
          numeros = [7, 14, 23, 35, 42, 58];
        } else if (nome.includes('QN-') || codigo.includes('QN-')) {
          // Quina: 5 n√∫meros
          numeros = [12, 23, 34, 45, 67];
        } else {
          // Padr√£o gen√©rico
          numeros = [1, 5, 10, 15, 20, 25];
        }
        
        return numeros.map(num => `<span class="numero-principal">${String(num).padStart(2, '0')}</span>`).join('');
      }

      calcularTempoRestante(bolao) {
        // Simular tempo restante baseado no status
        if (bolao.status === 'almost') {
          const tempos = ['‚è∞ Fecha em 3 horas', '‚è∞ Fecha em 1 dia', '‚è∞ Fecha em 6 horas'];
          return tempos[Math.floor(Math.random() * tempos.length)];
        } else if (bolao.status === 'forming') {
          const tempos = ['‚è∞ Fecha em 2 dias', '‚è∞ Fecha em 5 dias', '‚è∞ Fecha em 3 dias'];
          return tempos[Math.floor(Math.random() * tempos.length)];
        } else {
          return '‚è∞ Fechado';
        }
      }

      verificarStatusLogin() {
        console.log('üîç Verificando status de login...');
        console.log('üîç window.isLoggedIn:', window.isLoggedIn);
        
        // Verificar vari√°vel global do Flask (PRIMEIRA verifica√ß√£o, mais confi√°vel)
        if (typeof window.isLoggedIn !== 'undefined' && window.isLoggedIn) {
          console.log('‚úÖ Usu√°rio logado detectado via vari√°vel global Flask');
          return true;
        }
        
        // Verificar se o badge de login est√° presente na p√°gina
        const badgeLogin = document.querySelector('.logged-in-badge');
        if (badgeLogin) {
          console.log('‚úÖ Usu√°rio logado detectado via badge');
          return true;
        }
        
        // Verificar localStorage (backup)
        const loginToken = localStorage.getItem('userToken') || localStorage.getItem('loginStatus');
        if (loginToken) {
          console.log('‚úÖ Usu√°rio logado detectado via localStorage');
          return true;
        }
        
        console.log('‚ùå Usu√°rio n√£o logado - todas as verifica√ß√µes falharam');
        return false;
      }

      configurarEventos() {
        // Eventos de hover nos cards
        document.addEventListener('mouseover', (e) => {
          if (e.target.closest('.bolao-card')) {
            e.target.closest('.bolao-card').classList.add('hover');
          }
        });

        document.addEventListener('mouseout', (e) => {
          if (e.target.closest('.bolao-card')) {
            e.target.closest('.bolao-card').classList.remove('hover');
          }
        });
      }

      solicitarLogin() {
        alert('üîí Para participar dos bol√µes, voc√™ precisa fazer login primeiro!\n\nClique em "Entrar" no menu superior.');
        // Em produ√ß√£o, abrir modal de login
      }

      async participarBolao(codigoBolao) {
        // Verificar login em tempo real
        this.atualizarStatusLogin();
        
        if (!this.usuarioLogado) {
          this.solicitarLogin();
          return;
        }

        try {
          console.log(`üéØ Participando do bol√£o ${codigoBolao}...`);
          
          const response = await fetch('/api/boloes/participar', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({
              bolao_id: codigoBolao,
              usuario_id: 1, // Em produ√ß√£o, pegar da sess√£o
              quantidade_cotas: 1,
              metodo_pagamento: 'pix'
            })
          });

          const data = await response.json();
          
          if (data.success) {
            alert(`‚úÖ Participa√ß√£o realizada com sucesso!\n\nValor: R$ ${data.valor_total.toFixed(2).replace('.', ',')}\n\nVoc√™ receber√° instru√ß√µes de pagamento por email.`);
            // Recarregar dados
            await this.carregarBoloes();
            this.atualizarInterface();
          } else {
            alert(`‚ùå Erro: ${data.error}`);
          }
          
        } catch (error) {
          console.error('‚ùå Erro ao participar do bol√£o:', error);
          alert('‚ùå Erro ao participar do bol√£o. Tente novamente.');
        }
      }

      async verDetalhes(codigoBolao) {
        try {
          console.log(`üìä Visualizando detalhes do bol√£o ${codigoBolao}...`);
          
          // Em produ√ß√£o, abrir modal com detalhes
          alert(`üìä Detalhes do Bol√£o ${codigoBolao}\n\nFuncionalidade em desenvolvimento...`);
          
        } catch (error) {
          console.error('‚ùå Erro ao carregar detalhes:', error);
        }
      }
    }

    // Inicializar sistema de bol√µes
    window.bolaoManager = null; // Declarar como global
    document.addEventListener('DOMContentLoaded', function() {
      console.log('üöÄ Criando BolaoManager...');
      window.bolaoManager = new BolaoManager();
      console.log('‚úÖ BolaoManager criado:', !!window.bolaoManager);
    });

    // === CONTROLE DE ACESSO AOS BOL√ïES ===
    function acessoBoloes(evt, nomeAba) {
      evt.preventDefault();
      
      const logado = window.isLoggedIn || false;
      const termosOk = (window.termosAceitos === true) || (localStorage.getItem('boloes_termos_ok') === '1');
      
      console.log('üîê Verificando acesso aos bol√µes:', {logado, termosOk});
      
      if (!logado) {
        alert('üîí Fa√ßa login para acessar os bol√µes.');
        return false;
      }
      
      if (!termosOk) {
        console.log('üìã Mostrando modal de termos...');
        const modal = document.getElementById('modalTermosBoloes');
        if (modal) {
          modal.classList.add('show');
          document.body.style.overflow = 'hidden';
        }
        return false;
      }
      
      // OK, pode abrir a aba
      console.log('‚úÖ Abrindo aba dos bol√µes...');
      abrirAba(evt, nomeAba);
      return true;
    }
    
    // === BYPASS TEMPOR√ÅRIO (MANTER PARA REFER√äNCIA) ===
    function acessoBypass(evt, nomeAba) {
      evt.preventDefault();
      
      console.log('üöÄ BYPASS - Iniciado para usu√°rio:', '{{ plano_display|default("Sem plano") }}');
      
      // 1. Verificar termos primeiro (FOR√áAR MODAL PARA TESTE)
      console.log('üîç Verificando localStorage termosBoloesAceitos:', localStorage.getItem('termosBoloesAceitos'));
      
      // TEMPOR√ÅRIO: Limpar termos para for√ßar modal
      // localStorage.removeItem('termosBoloesAceitos'); // Descomente para for√ßar modal
      
      const termosAceitos = localStorage.getItem('termosBoloesAceitos');
      
      if (termosAceitos !== 'true') {
        console.log('üìã Mostrando modal de termos...');
        mostrarModalTermos();
        return;
      }
      
      console.log('‚úÖ Termos j√° aceitos, prosseguindo...');
      
      // 2. Para usu√°rio Vital√≠cio, liberar direto
      const planoAtual = '{{ plano_display|default("") }}';
      
      if (planoAtual === 'Vital√≠cio' || planoAtual === 'Anual') {
        console.log('‚úÖ BYPASS - Liberando acesso total para plano:', planoAtual);
        
        // Configurar vari√°veis globais
        window.planoUsuario = 'lifetime';
        window.loteriasPermitidas = ['quina', 'lotofacil', 'megasena', 'milionaria'];
        window.loteriasBloqueadas = [];
        
        // Abrir aba
        abrirAba(evt, nomeAba);
        
        // Liberar todos os pain√©is
        if (window.bolaoManager) {
          window.bolaoManager.liberarTodasLoterias();
        }
        
        return;
      }
      
      // 3. Para outros planos, mostrar upgrade
      console.log('‚ùå Plano insuficiente:', planoAtual);
      mostrarModalUpgrade();
    }
    
    // === SISTEMA DE TERMOS DE BOL√ïES (ORIGINAL) ===
    async function verificarTermosEAbrirAba(evt, nomeAba) {
      evt.preventDefault(); // Sempre prevenir o comportamento padr√£o
      
      // 1. Verificar se o usu√°rio j√° aceitou os termos
      const termosAceitos = localStorage.getItem('termosBoloesAceitos');
      
      if (termosAceitos !== 'true') {
        // Se n√£o aceitou os termos, mostrar o modal de termos primeiro
        mostrarModalTermos();
        return;
      }
      
      // 2. Se aceitou os termos, verificar acesso por plano
      try {
        console.log('üîê Verificando acesso por plano...');
        const response = await fetch('/api/verificar-acesso-boloes', {
          credentials: 'same-origin'  // Incluir cookies de sess√£o
        });
        const data = await response.json();
        
        if (data.success) {
          // Atualizar vari√°veis globais
          window.planoUsuario = data.plano_usuario;
          window.loteriasPermitidas = data.loterias_permitidas;
          window.loteriasBloqueadas = data.loterias_bloqueadas;
          window.infoPlano = data.info_plano;
          
          console.log('üéØ Dados de acesso recebidos:', data);
          console.log('üîç DEBUG - loterias_permitidas:', data.loterias_permitidas);
          console.log('üîç DEBUG - Array.isArray:', Array.isArray(data.loterias_permitidas));
          console.log('üîç DEBUG - length:', data.loterias_permitidas?.length);
          
          // Verificar se usu√°rio tem acesso a alguma loteria
          if (!data.loterias_permitidas || data.loterias_permitidas.length === 0) {
            // Usu√°rio n√£o tem acesso a nenhuma loteria
            console.log('‚ùå ENTRANDO NO MODAL DE UPGRADE - Motivo: sem loterias permitidas');
            mostrarModalUpgrade();
            return;
          }
          
          console.log('‚úÖ USU√ÅRIO TEM ACESSO - Continuando...');
          
          // 3. Se tem acesso, abrir a aba e aplicar controle
          abrirAba(evt, nomeAba);
          
          // Aplicar controle de acesso aos pain√©is
          if (window.bolaoManager) {
            window.bolaoManager.aplicarControleAcesso();
          }
          
        } else {
          console.error('‚ùå Erro na resposta da API:', data);
          alert('Erro ao verificar acesso. Tente novamente.');
        }
        
      } catch (error) {
        console.error('‚ùå Erro ao verificar acesso:', error);
        alert('Erro de conex√£o. Tente novamente.');
      }
    }

    function mostrarModalTermos() {
      const modal = document.getElementById('modalTermosBoloes');
      if (modal) {
        modal.classList.add('show');
        document.body.style.overflow = 'hidden'; // Prevenir scroll
      }
    }

    function aceitarTermosBoloes() {
      if (confirm('Confirma que leu e aceita todos os termos de participa√ß√£o nos bol√µes?')) {
        // Salvar aceite no localStorage
        localStorage.setItem('termosBoloesAceitos', 'true');
        localStorage.setItem('dataAceiteTermosBoloes', new Date().toISOString());
        
        // Fechar modal
        fecharModalTermos();
        
        // üîß CORRE√á√ÉO: Liberar acesso √†s loterias
        console.log('üîß Liberando acesso √†s loterias ap√≥s aceitar termos...');
        
        // Definir loterias permitidas para usu√°rio Vital√≠cio
        const planoAtual = '{{ plano_display|default("") }}';
        if (planoAtual === 'Vital√≠cio' || planoAtual === 'Anual') {
          window.loteriasPermitidas = ['quina', 'lotofacil', 'megasena', 'milionaria'];
          window.planoUsuario = 'lifetime';
        } else {
          // Para outros planos, definir acesso b√°sico
          window.loteriasPermitidas = ['quina'];
          window.planoUsuario = 'daily';
        }
        
        // Liberar visualmente todas as loterias
        if (window.bolaoManager) {
          console.log('üîß Chamando liberarTodasLoterias...');
          window.bolaoManager.liberarTodasLoterias();
        }
        
        // Mostrar mensagem de sucesso
        alert('‚úÖ Termos aceitos com sucesso!\n\nAgora voc√™ pode acessar a se√ß√£o de loterias.');
        
        // Abrir a aba de loterias
        const abaLoterias = document.querySelector('button[onclick*="loterias"]');
        if (abaLoterias) {
          // Simular clique na aba (removendo a verifica√ß√£o temporariamente)
          abaLoterias.onclick = function(evt) { abrirAba(evt, 'loterias'); };
          abaLoterias.click();
        }
      }
    }

    function cancelarTermosBoloes() {
      fecharModalTermos();
      
      // Voltar para a primeira aba
      const primeiraAba = document.querySelector('.tab');
      if (primeiraAba) {
        primeiraAba.click();
      }
    }

    function fecharModalTermos() {
      const modal = document.getElementById('modalTermosBoloes');
      if (modal) {
        modal.classList.remove('show');
        document.body.style.overflow = 'auto'; // Restaurar scroll
      }
    }
    
    function mostrarModalUpgrade() {
      const planoAtual = window.infoPlano?.nome_display || 'Gratuito';
      
      alert(`üîí Acesso Restrito\n\n` +
            `Seu plano atual (${planoAtual}) n√£o permite acesso aos bol√µes.\n\n` +
            `Fa√ßa upgrade para participar dos bol√µes inteligentes!`);
      
      // Redirecionar para p√°gina de upgrade ap√≥s um delay
      setTimeout(() => {
        window.location.href = '/upgrade_plans';
      }, 2000);
    }

    // Fechar modal ao clicar fora dele
    document.addEventListener('click', function(event) {
      const modal = document.getElementById('modalTermosBoloes');
      if (event.target === modal) {
        cancelarTermosBoloes();
      }
    });

    // Fechar modal com tecla ESC
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape') {
        const modal = document.getElementById('modalTermosBoloes');
        if (modal && modal.classList.contains('show')) {
          cancelarTermosBoloes();
        }
      }
    });
  </script>
</body>
</html>